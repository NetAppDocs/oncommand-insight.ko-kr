---
permalink: howto/custom-dashboard-example-with-variables.html 
sidebar: sidebar 
keywords:  
summary: 스토리지, 스토리지 풀, 노드, 계층, 사용률 및 지연 시간에 대한 변수가 있는 Storage Analysis에 대한 사용자 지정 대시보드를 생성합니다. 
---
= 변수가 있는 스토리지 노드 활용률 대시보드 예
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
스토리지, 스토리지 풀, 노드, 계층, 사용률 및 지연 시간에 대한 변수가 있는 Storage Analysis에 대한 사용자 지정 대시보드를 생성합니다.



== 시작하기 전에

Insight의 대시보드에 익숙해지는 것이 좋지만 반드시 필요한 것은 아닙니다.



== 이 작업에 대해

다음 절차에서는 스토리지, 스토리지 풀, 노드, 계층, 사용률 및 지연 시간에 대한 변수를 사용하는 사용자 지정 스토리지 분석 개요 대시보드를 생성합니다. 아래 예제의 변수는 대시보드에서 사용할 수 있는 하나 이상의 위젯에서 표시된 자산 또는 메트릭을 필터링하는 데 사용됩니다. 이러한 변수를 필터로 사용하는 위젯은 대시보드의 변수 필드에 입력된 값에 따라 온디맨드 필터링 콘텐츠로 업데이트되므로 여러 차트와 그래프를 빠르게 필터링하여 특정 관심 영역으로 드릴다운할 수 있습니다.

이 예제의 단계를 따르면 다음과 같은 대시보드를 만들 수 있습니다. 이러한 위젯을 변경하거나 추가 위젯을 원하는 수만큼 추가하여 선택한 데이터를 강조 표시할 수 있습니다.

image::../media/node-dashboard-example-2.gif[노드 대시보드 예 2]



== 단계

. 새 대시보드를 만들고 이름을 ""분석: 스토리지 개요"" 또는 동일한 설명이 포함된 것으로 지정합니다.
. 변수 * 드롭다운을 클릭하고 * 텍스트 * 변수 유형을 선택합니다. 기본적으로 변수 이름은 _$var1_입니다. 이름을 편집하려면 _$var1_을(를) 클릭하고, 변수를 _$storage_로 변경한 다음 체크 표시를 클릭하여 변수를 저장합니다. 이 과정을 반복하여 _$node_, _$pool_ 및 _$volume_에 대한 텍스트 변수를 생성합니다.
. 위의 프로세스를 반복하여 _$Utilization_and_$latency_라는 * Number * 유형 변수를 만듭니다.
. Variable * (변수 *) 드롭다운을 클릭하고 _Tier_annotation 을 검색합니다. 이를 선택하여 _$tier_라는 변수를 만듭니다.
+
언제든지 변수를 추가할 수 있지만 변수를 미리 만들면 모든 위젯에서 변수를 만들 때 사용할 수 있습니다.

. Widget* 드롭다운을 클릭하고 ** 꺾은선형 차트** 또는 * 영역형 차트 * 위젯을 선택하여 위젯을 추가합니다. 위젯 이름을 "Node Utilization" 로 지정합니다. 스토리지 * 자산 유형을 클릭하고 * 스토리지 노드 * 로 변경합니다. 차트 데이터에 대해 * Utilization - Total * 을 선택합니다.
. 필터 기준 + * 버튼을 클릭하여 필터를 추가합니다. Storage * 를 검색하여 선택한 다음 * Any * 를 클릭하고 _$storage_variable 를 선택합니다.
. * 이름*에 대한 다른 필터를 추가하려면 **+** 단추를 클릭합니다. 변수를 _$node_로 설정합니다.
+
주석 이름 필터에 다른 변수를 지정할 수 있습니다. 위젯의 개체에 따라 가장 낮은 수준에서 이름/변수 쌍을 사용합니다. 예를 들면 다음과 같습니다.

+
** 노드 중심 위젯의 * 이름 * 필터에 _$node_variable 를 할당할 수 있습니다.
** 풀 중심 위젯에 대해 _$pool_variable 을 * Name * 필터에 할당할 수 있습니다.


. 사용률 - 합계(%)*에 대한 다른 필터를 추가하려면 **+** 버튼을 클릭합니다. 변수를 _>=$Utilization_로 설정합니다.
. ** 롤업** 필드 뒤에 있는 * X * 를 클릭하여 필드를 축소합니다.
. 상위 5개 표시 * 를 선택하고 * 저장 * 을 클릭하여 위젯을 저장하고 대시보드로 돌아갑니다.
+
위젯은 다음과 같이 표시되어야 합니다.

+
image::../media/widget-node-util-1.gif[위젯 노드 util 1]

. 대시보드에 다른 꺾은선형 또는 영역형 차트 위젯을 추가합니다. 자산 유형으로 * 스토리지 노드 * 를 선택하고 차트에 사용할 메트릭으로 * 지연 시간 - 합계 * 를 선택합니다.
. 필터 기준 + * 버튼을 클릭하여 * 스토리지:$storage * 및 * Name:$node * 에 대한 필터를 추가합니다.
. 지연 시간 - 합계 * 에 대한 필터를 추가하고 *$ 지연 시간 * 변수를 선택합니다.
. 위젯 이름을 "Node Latency"로 지정하고 저장합니다.
. 최대 또는 평균 노드 사용률과 같이 생성한 차트에 대한 세부 정보를 표시하는 지원 테이블을 추가할 수 있습니다. 대시보드에 * 표 위젯 * 을 추가하고 자산 유형으로 * 스토리지 노드 * 를 선택하고 * 스토리지: $storage *, * 이름: $node * 및 * Utilization - Total: $Utilization * 에 대한 필터를 생성합니다.
. Utilization - Max *, * Utilization - Total * 또는 기타 원하는 열에 대해 테이블에 열을 추가합니다.
. 위젯 이름을 "Node Peak and Avg Utilization"으로 지정하고 저장합니다.
+
image::../media/nodeutiltablesettings.gif[노드 테이블 측면 설정]

. 이 단계를 반복하여 노드 지연 시간에 대한 테이블을 만듭니다. 이때 노드 지연 시간은 * Latency-Max *, * Latency-Total * 또는 기타 열을 원하는 대로 표시합니다.
. 대시보드를 둥글게 만들려면 다음 중 일부 또는 전체에 대해 차트 및 표 위젯을 더 추가할 수 있습니다.


|===


| 차트 | 표 


 a| 
스토리지 풀 활용률입니다
 a| 
스토리지 풀 최대 및 평균 사용률



 a| 
스토리지 풀 처리량입니다
 a| 
스토리지 풀 최대 및 평균 처리량



 a| 
볼륨 지연 시간
 a| 
볼륨 최대 및 평균 지연 시간



 a| 
볼륨 IOPS
 a| 
볼륨 최대 및 평균 IOPS

|===
. 대시보드에서 원하는 위치에 상관없이 위젯을 이동하고 크기를 조정할 수 있습니다. 완료되면 대시보드를 * 저장 * 합니다.
+
마지막 대시보드는 다음과 같습니다.

+
image::../media/node-dashboard-example-2.gif[노드 대시보드 예 2]

. 변수를 사용하여 대시보드의 특정 자산에 집중할 수 있습니다. 변수 필드에 값을 입력하면 위젯이 자동으로 업데이트되어 해당 변수를 반영합니다. 예를 들어, $Utilization 변수 필드에 ""15""를 입력하면 해당 변수 업데이트를 사용하는 위젯이 전체 사용률이 15% 이상인 자산만 표시합니다.
+
모든 노드 중 상위 5개를 보여 주는 노드 활용률 위젯:

+
image::../media/nodeutil-unfiltered.gif[노드 util 필터링되지 않음]

+
사용률이 15% 이상인 노드를 보여 주는 노드 활용률 위젯:

+
image::../media/nodeutil-filtered.gif[노드 util을 필터링했습니다]

. 위젯을 생성할 때는 다음 사항에 유의하십시오.
+
** $tier 변수는 * Tier * 주석이 달린 리소스에만 영향을 줍니다.
** 위젯이 지정된 변수를 허용하도록 설계되었는지에 따라 일부 필터가 모든 위젯에 영향을 미치지 않습니다.
** 숫자 변수는 지정된 값 ""보다 크거나 같음""으로 적용됩니다. 변수가 위젯이 실행 중인 자산에 대해 유효한 경우 모든 변수를 스토리지 계층 구조의 모든 레벨에 있는 위젯의 필터로 사용할 수 있습니다. 노드 레벨에서 스토리지 풀로 볼륨 위젯으로 이동하는 경우 필터로 할당하기 위해 더 많은 변수가 존재합니다. 예를 들어, 스토리지 노드 레벨 위젯에서 _Storage_ 및 _Name_ 변수를 필터로 할당할 수 있습니다. 스토리지 풀 레벨에서 _Storage_, _Nodes_, _Storage Pools_ 및 _Name_을 모두 사용할 수 있습니다. 변수를 적절하게 할당하고 스택의 가장 낮은 수준에서 $NAME 변수를 사용합니다. 이렇게 하면 $NAME 변수가 위젯이 실행 중인 자산의 실제 이름을 기준으로 필터링할 수 있습니다.



